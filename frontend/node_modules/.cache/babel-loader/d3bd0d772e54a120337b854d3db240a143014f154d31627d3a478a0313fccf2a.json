{"ast":null,"code":"import _toConsumableArray from\"C:/Users/DRAGOS/Desktop/E-Commerce/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/DRAGOS/Desktop/E-Commerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useParams,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,ListGroup,Card,Button,Form}from'react-bootstrap';import Rating from'../components/Rating';import{listProductDetails}from'../actions/productActions';import Loader from'../components/Loader';import Message from'../components/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(){var match=useParams();var navigate=useNavigate();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetails(match.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){navigate(\"/cart/\".concat(match.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light my-3\",to:\"/\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:5,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating?product.rating:0,text:\"\".concat(product.numReviews,\" recenzii\")})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price: \",product.price*4]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description: \",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[product.price*4,\" RON\"]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>3?'In Stock':product.countInStock<=3&&product.countInStock>0?'Limited Stock':'Out Of Stock'})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",className:\"form-select-sm\",value:qty,size:\"5\",onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:product.countInStock===0,children:\"Add To Cart\"})})})]})})})]})]});};export default ProductScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useNavigate","useDispatch","useSelector","Row","Col","Image","ListGroup","Card","Button","Form","Rating","listProductDetails","Loader","Message","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductScreen","match","navigate","_useState","_useState2","_slicedToArray","qty","setQty","dispatch","productDetails","state","loading","error","product","id","addToCartHandler","concat","children","className","to","variant","md","src","image","alt","name","fluid","Item","value","rating","text","numReviews","price","description","countInStock","Control","as","size","onChange","e","target","_toConsumableArray","Array","keys","map","x","onClick","type","disabled"],"sources":["C:/Users/DRAGOS/Desktop/E-Commerce/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {Link, useParams, useNavigate} from 'react-router-dom'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {Row, Col, Image, ListGroup, Card, Button, Form} from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport {listProductDetails} from '../actions/productActions'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\n\r\nconst ProductScreen = () => {\r\n  const match = useParams()\r\n  const navigate = useNavigate()\r\n\r\n  const [qty, setQty] = useState(1)\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const productDetails = useSelector((state) => state.productDetails)\r\n  const {loading, error, product} = productDetails\r\n\r\n  useEffect(() => {\r\n    dispatch(listProductDetails(match.id))\r\n  }, [dispatch, match])\r\n\r\n  const addToCartHandler = () => {\r\n    navigate(`/cart/${match.id}?qty=${qty}`)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Link className='btn btn-light my-3' to='/'>\r\n        Go Back\r\n      </Link>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant='danger'>{error}</Message>\r\n      ) : (\r\n        <Row>\r\n          <Col md={5}>\r\n            <Image src={product.image} alt={product.name} fluid />\r\n          </Col>\r\n          <Col md={4}>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h3 className='text-center'>{product.name}</h3>\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                <Rating\r\n                  value={product.rating ? product.rating : 0}\r\n                  text={`${product.numReviews} recenzii`}\r\n                />\r\n              </ListGroup.Item>\r\n\r\n              <ListGroup.Item>Price: {product.price * 4}</ListGroup.Item>\r\n\r\n              <ListGroup.Item>\r\n                Description: {product.description}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={3}>\r\n            <Card>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price:</Col>\r\n                    <Col>\r\n                      <strong>{product.price * 4} RON</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Status:</Col>\r\n                    <Col>\r\n                      {product.countInStock > 3\r\n                        ? 'In Stock'\r\n                        : product.countInStock <= 3 && product.countInStock > 0\r\n                        ? 'Limited Stock'\r\n                        : 'Out Of Stock'}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n\r\n                {product.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Qty</Col>\r\n                      <Col>\r\n                        <Form.Control\r\n                          as='select'\r\n                          className='form-select-sm'\r\n                          value={qty}\r\n                          size='5'\r\n                          onChange={(e) => setQty(e.target.value)}\r\n                        >\r\n                          {[...Array(product.countInStock).keys()].map((x) => (\r\n                            <option key={x + 1} value={x + 1}>\r\n                              {x + 1}\r\n                            </option>\r\n                          ))}\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                )}\r\n\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Button\r\n                      onClick={addToCartHandler}\r\n                      className='btn-block'\r\n                      type='button'\r\n                      disabled={product.countInStock === 0}\r\n                    >\r\n                      Add To Cart\r\n                    </Button>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductScreen\r\n"],"mappings":"0QAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAAQC,IAAI,CAAEC,SAAS,CAAEC,WAAW,KAAO,kBAAkB,CAC7D,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAAQC,GAAG,CAAEC,GAAG,CAAEC,KAAK,CAAEC,SAAS,CAAEC,IAAI,CAAEC,MAAM,CAAEC,IAAI,KAAO,iBAAiB,CAC9E,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAAQC,kBAAkB,KAAO,2BAA2B,CAC5D,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE3C,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAM,CAAAC,KAAK,CAAGtB,SAAS,EAAE,CACzB,GAAM,CAAAuB,QAAQ,CAAGtB,WAAW,EAAE,CAE9B,IAAAuB,SAAA,CAAsB3B,QAAQ,CAAC,CAAC,CAAC,CAAA4B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1BG,GAAG,CAAAF,UAAA,IAAEG,MAAM,CAAAH,UAAA,IAElB,GAAM,CAAAI,QAAQ,CAAG3B,WAAW,EAAE,CAE9B,GAAM,CAAA4B,cAAc,CAAG3B,WAAW,CAAC,SAAC4B,KAAK,QAAK,CAAAA,KAAK,CAACD,cAAc,GAAC,CACnE,GAAO,CAAAE,OAAO,CAAoBF,cAAc,CAAzCE,OAAO,CAAEC,KAAK,CAAaH,cAAc,CAAhCG,KAAK,CAAEC,OAAO,CAAIJ,cAAc,CAAzBI,OAAO,CAE9BpC,SAAS,CAAC,UAAM,CACd+B,QAAQ,CAACjB,kBAAkB,CAACU,KAAK,CAACa,EAAE,CAAC,CAAC,CACxC,CAAC,CAAE,CAACN,QAAQ,CAAEP,KAAK,CAAC,CAAC,CAErB,GAAM,CAAAc,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7Bb,QAAQ,UAAAc,MAAA,CAAUf,KAAK,CAACa,EAAE,UAAAE,MAAA,CAAQV,GAAG,EAAG,CAC1C,CAAC,CAED,mBACET,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACEtB,IAAA,CAACjB,IAAI,EAACwC,SAAS,CAAC,oBAAoB,CAACC,EAAE,CAAC,GAAG,CAAAF,QAAA,CAAC,SAE5C,EAAO,CACNN,OAAO,cACNhB,IAAA,CAACH,MAAM,IAAG,CACRoB,KAAK,cACPjB,IAAA,CAACF,OAAO,EAAC2B,OAAO,CAAC,QAAQ,CAAAH,QAAA,CAAEL,KAAK,EAAW,cAE3Cf,KAAA,CAACd,GAAG,EAAAkC,QAAA,eACFtB,IAAA,CAACX,GAAG,EAACqC,EAAE,CAAE,CAAE,CAAAJ,QAAA,cACTtB,IAAA,CAACV,KAAK,EAACqC,GAAG,CAAET,OAAO,CAACU,KAAM,CAACC,GAAG,CAAEX,OAAO,CAACY,IAAK,CAACC,KAAK,OAAG,EAClD,cACN/B,IAAA,CAACX,GAAG,EAACqC,EAAE,CAAE,CAAE,CAAAJ,QAAA,cACTpB,KAAA,CAACX,SAAS,EAACkC,OAAO,CAAC,OAAO,CAAAH,QAAA,eACxBtB,IAAA,CAACT,SAAS,CAACyC,IAAI,EAAAV,QAAA,cACbtB,IAAA,OAAIuB,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAEJ,OAAO,CAACY,IAAI,EAAM,EAChC,cAEjB9B,IAAA,CAACT,SAAS,CAACyC,IAAI,EAAAV,QAAA,cACbtB,IAAA,CAACL,MAAM,EACLsC,KAAK,CAAEf,OAAO,CAACgB,MAAM,CAAGhB,OAAO,CAACgB,MAAM,CAAG,CAAE,CAC3CC,IAAI,IAAAd,MAAA,CAAKH,OAAO,CAACkB,UAAU,aAAY,EACvC,EACa,cAEjBlC,KAAA,CAACX,SAAS,CAACyC,IAAI,EAAAV,QAAA,EAAC,SAAO,CAACJ,OAAO,CAACmB,KAAK,CAAG,CAAC,GAAkB,cAE3DnC,KAAA,CAACX,SAAS,CAACyC,IAAI,EAAAV,QAAA,EAAC,eACD,CAACJ,OAAO,CAACoB,WAAW,GAClB,GACP,EACR,cACNtC,IAAA,CAACX,GAAG,EAACqC,EAAE,CAAE,CAAE,CAAAJ,QAAA,cACTtB,IAAA,CAACR,IAAI,EAAA8B,QAAA,cACHpB,KAAA,CAACX,SAAS,EAACkC,OAAO,CAAC,OAAO,CAAAH,QAAA,eACxBtB,IAAA,CAACT,SAAS,CAACyC,IAAI,EAAAV,QAAA,cACbpB,KAAA,CAACd,GAAG,EAAAkC,QAAA,eACFtB,IAAA,CAACX,GAAG,EAAAiC,QAAA,CAAC,QAAM,EAAM,cACjBtB,IAAA,CAACX,GAAG,EAAAiC,QAAA,cACFpB,KAAA,WAAAoB,QAAA,EAASJ,OAAO,CAACmB,KAAK,CAAG,CAAC,CAAC,MAAI,GAAS,EACpC,GACF,EACS,cAEjBrC,IAAA,CAACT,SAAS,CAACyC,IAAI,EAAAV,QAAA,cACbpB,KAAA,CAACd,GAAG,EAAAkC,QAAA,eACFtB,IAAA,CAACX,GAAG,EAAAiC,QAAA,CAAC,SAAO,EAAM,cAClBtB,IAAA,CAACX,GAAG,EAAAiC,QAAA,CACDJ,OAAO,CAACqB,YAAY,CAAG,CAAC,CACrB,UAAU,CACVrB,OAAO,CAACqB,YAAY,EAAI,CAAC,EAAIrB,OAAO,CAACqB,YAAY,CAAG,CAAC,CACrD,eAAe,CACf,cAAc,EACd,GACF,EACS,CAEhBrB,OAAO,CAACqB,YAAY,CAAG,CAAC,eACvBvC,IAAA,CAACT,SAAS,CAACyC,IAAI,EAAAV,QAAA,cACbpB,KAAA,CAACd,GAAG,EAAAkC,QAAA,eACFtB,IAAA,CAACX,GAAG,EAAAiC,QAAA,CAAC,KAAG,EAAM,cACdtB,IAAA,CAACX,GAAG,EAAAiC,QAAA,cACFtB,IAAA,CAACN,IAAI,CAAC8C,OAAO,EACXC,EAAE,CAAC,QAAQ,CACXlB,SAAS,CAAC,gBAAgB,CAC1BU,KAAK,CAAEtB,GAAI,CACX+B,IAAI,CAAC,GAAG,CACRC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAhC,MAAM,CAACgC,CAAC,CAACC,MAAM,CAACZ,KAAK,CAAC,EAAC,CAAAX,QAAA,CAEvCwB,kBAAA,CAAIC,KAAK,CAAC7B,OAAO,CAACqB,YAAY,CAAC,CAACS,IAAI,EAAE,EAAEC,GAAG,CAAC,SAACC,CAAC,qBAC7ClD,IAAA,WAAoBiC,KAAK,CAAEiB,CAAC,CAAG,CAAE,CAAA5B,QAAA,CAC9B4B,CAAC,CAAG,CAAC,EADKA,CAAC,CAAG,CAAC,CAET,EACV,CAAC,EACW,EACX,GACF,EAET,cAEDlD,IAAA,CAACT,SAAS,CAACyC,IAAI,EAAAV,QAAA,cACbtB,IAAA,CAACZ,GAAG,EAAAkC,QAAA,cACFtB,IAAA,CAACP,MAAM,EACL0D,OAAO,CAAE/B,gBAAiB,CAC1BG,SAAS,CAAC,WAAW,CACrB6B,IAAI,CAAC,QAAQ,CACbC,QAAQ,CAAEnC,OAAO,CAACqB,YAAY,GAAK,CAAE,CAAAjB,QAAA,CACtC,aAED,EAAS,EACL,EACS,GACP,EACP,EACH,GAET,GACA,CAEP,CAAC,CAED,cAAe,CAAAjB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}